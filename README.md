# Web-classification-constructor

Данный проект представляет собой средство для решения задачи бинарной классификации, а также препроцессинга данных (заполнение пропусков, удаление выбросов, стандартизация, отбор признаков).  
Само приложение написано на Django и доступно на https://web-classification-constructor.herokuapp.com/  

## Краткое описание работы приложения:

### 1. Заходим на главную страницу, авторизуемся. Логин/пароль можно получить у Максима Макарова.  
### 2. Далее выбираем режим. У классификатора есть 2 режима:
  * Режим создания модели с заданием собственных параметров
  * Режим использования готовой тренированной модели для предсказания  
#### 2a. Если выбран режим создания модели, то:
  * Заполняем общие параметры (касаются в основном выбора самих методов на каждом этапе работы классификаторов)
  * Заполняем частные параметры, которые уточняют выбранные методы. Описание всех параметров есть на https://web-classification-constructor.herokuapp.com/info/
  * Загружаем 2 файла: файл с данными, размеченными на классы, и данными, по которым надо определить класс
  * Нажимаем **Begin work**, начинается процесс подготовки данных, обучения, предсказания и формирования отчета
  * Когда все готово, можно скачать результаты (в формате .zip)
#### 2b. Если выбран режим загрузки модели, то:
  * Загружаем модель в формате .pkl и файл с данными, по которым надо предсказать класс
  * Нажимаем **Begin work**, после этого **Скачать файл** (это файл с добавленным столбуом с классами)
  
## Краткое описание того, что где находится в проекте:

В корне есть папка Web_classification_constructor_backend c непосредственно проектом на Django, файл с зависимостями requirements.txt, а также файлами Procfile и runtime.txt, нужными для деплоя  
В Web_classification_constructor_backend находятся следующие директории:
- ***Classifiсation_constructor_code***: директория, в которой находится весь код машинного обучения. Она будет описнаа отдельно
- ***packages***: директория для вспомогательных функций (пока там только одна функция на проверку загружаемого датафрейма)
- ***static***: статика (сейчас только стили). При деплое были некоторые проблемы, сейчас стили отсюда не юзаются, они продублированы в html файлы в теге style  
- ***templates***: папка с html-шаблонами
- ***tmp_user_files***: папка с пользовательскими данными. Состоит в свою очередь из 3-х папок: Input (туда проект сам кладет csv файлы или тренированную модель), App (туда кладутся созданные в процессе обучения пикл-модель и картинки) и Output (кладется отчет и выходные csv-файлы). После скачивания результатов данная папка зачищается
- ***Web_classification_constructor_backend***: главная дира проекта с settings.py, urls.py и тд. В проекте два приложения user_profile и web_interface, под которые тоже есть папки
- ***user_profile***: приложение, в котором лежит логика по авторизации
- ***web_interface***: приложение, в котором лежит логика всего остального :)

## Краткое описание папки Classification_constructor_code:

Первоначально классификатор состоял из одного файла в формате .ipynb, а ввод данных от пользователя осуществлялся через Excel. Потом код из ipynb-файла был разбит на разные файлы в формате .py.  
Classification_constructor_code состоит из двух директорий:
- ***ipynb_code***: в ней находится тот самый .ipynb, с примерными комментариями, что происходит, в конце файла есть итог, что вообще хорошо бы сделать в ML-части (в самом джанго-проекте). Также там есть файлы train.csv и test.csv, на которых можно при желании потестировать файл
- ***code***: папка с разбиением кода на модули. Данную папку стоит порефакторить

### Краткое описание code:

- ***main.py и main_upload_mode.py***: главные файлы для режим создания модели и режима загрузки модели. Непосредственно вызываются из джанго-приложения при нажатии на **Begin work** и сами вызывают другие модули
- ***preprocessing***: папка с 4-мя файлами, каждый относится к разным этапам подготовки данных (в порядке вызова): **missing_value_imputing.py** - заполнение пропусков, **outliers_deleting.py** - удаление выбросов,  **normalization.py** - нормализация, **feature_selection.py** - отбор признаков
- ***fitting***: состоит из двух файлов с кодом для обучения модели (**learning.py**) и предсказания (**predicting.py**)
- ***report***: состоит из двух файлов: **get_images.py** (получение картинок + данным для таблички статистики признаков, которая приаттачится в отчет), **create_doc.py** (файл с функциями для создания отчета)
